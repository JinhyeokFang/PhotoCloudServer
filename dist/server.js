"use strict";var __importDefault=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var express_1=__importDefault(require("express")),morgan_1=__importDefault(require("morgan")),compression_1=__importDefault(require("compression")),helmet_1=__importDefault(require("helmet")),cors_1=__importDefault(require("cors")),method_override_1=__importDefault(require("method-override")),config_1=__importDefault(require("./config")),db_1=__importDefault(require("./db")),index_route_1=__importDefault(require("./inputs/index.route")),auth_route_1=__importDefault(require("./inputs/auth.route")),photo_route_1=__importDefault(require("./inputs/photo.route")),app=express_1.default();db_1.default.initialize(),app.use(morgan_1.default(config_1.default.env)),app.use(compression_1.default()),app.use(helmet_1.default()),app.disable("x-powered-by"),app.use(cors_1.default()),app.use(method_override_1.default()),app.use(express_1.default.json()),app.use(express_1.default.urlencoded({extended:!1})),app.use(express_1.default.static(config_1.default.staticDir)),app.use("/",index_route_1.default),app.use("/auth",auth_route_1.default),app.use("/user",photo_route_1.default),app.listen(8e3,function(){process.send&&process.send("ready"),console.log("Listening at http://localhost:".concat(config_1.default.port,"/"))});